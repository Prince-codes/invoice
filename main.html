<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Invoice Generator — SHANKAR SAH</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <header>
        <h1>Invoice Generator</h1>
  </header>
  <main class="app-shell">
    <header class="brand">
      <div class="brand-left">
        <div class="logo-glow"><img src="/logo.png" alt="logo" style="height:64px;width:64px;object-fit:contain;"></div>
        <div>
          <h1>SHANKAR SAH</h1>
          <p class="muted">Gamharia market complex - 832108</p>
        </div>
      </div>
      <div class="brand-right">
        <div id="userDisplay" class="muted"></div>
        <!-- Small utility buttons for CSV import/export (kept unobtrusive) -->
        <input type="file" id="importCsv" accept=".csv" style="display:none" />
        <button id="exportCsvBtn" class="btn" title="Export all invoices as CSV">Export CSV</button>
        <button id="importCsvBtn" class="btn" title="Import invoices CSV">Import CSV</button>
        <button id="logoutBtn" class="btn">Logout</button>
      </div>
    </header>

    <section class="card">
      <h2>Create Monthly Bill</h2>

      <div class="form-grid">
        <label>
          Customer Name
          <input id="customer" placeholder="Enter customer name" />
        </label>

        <label>
          Month
          <select id="month"></select>
        </label>

        <label>
          Year
          <select id="year"></select>
        </label>
      </div>

      <div class="actions">
        <button id="openBtn" class="btn primary">Open Month Editor</button>
        <button id="viewPreviousBtn">View Previous Bills</button>
      </div>
    </section>

    <footer class="footer muted">&copy; 2025 Carnage Sentinels. All rights reserved.</footer>

    <!-- Modal -->
    <div id="modal" class="modal" aria-hidden="true">
      <div class="modal-content">
        <header>
          <h3 id="modalTitle">Enter daily amounts</h3>
          <button id="closeModal" class="close" title="Close">&times;</button>
        </header>

        <div class="modal-body">
          <div id="tablesContainer"></div>

          <div class="modal-summary">
            <div>Total 1 (1–15): <span id="total1">0.00</span></div>
            <div>Total 2 (16–end): <span id="total2">0.00</span></div>
            <div class="total-all">Total Amount: <span id="totalAll">0.00</span></div>
          </div>

          <label>
            Total Amount in Words
            <input id="amountWords" placeholder="E.g., Five Thousand Only" />
          </label>
        </div>

        <footer class="modal-footer">
          <button id="saveBtn" class="btn primary">Save & Print</button>
          <button id="cancelBtn" class="btn">Cancel</button>
        </footer>
      </div>
    </div>

    <!-- Modal for previous bills -->
    <div id="previousBillsModal" class="modal">
    <div class="modal-content">
      <header style="display:flex;justify-content:space-between;align-items:center;">
        <h3 style="margin:0;color:var(--accent);font-size:20px;font-weight:700;">Previous Bills</h3>
        <button class="close" id="closePreviousModal" title="Close">&times;</button>
      </header>
      <div class="modal-body" style="margin-top:18px;display:flex;justify-content:center;align-items:center;flex-direction:column;">
        <table id="previousBillsTable" style="width:600px;max-width:100%;margin:0 auto;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #eee;background:rgba(30,136,229,0.06);">
          <thead>
            <tr style="background:var(--glass);color:var(--accent);">
              <th style="text-align:center;">ID</th>
              <th style="text-align:center;">Customer</th>
              <th style="text-align:center;">Month-Year</th>
              <th style="text-align:center;">Total</th>
            </tr>
          </thead>
          <tbody>
            <!-- Filled dynamically -->
          </tbody>
        </table>
        <div style="margin-top:12px;">
          <small style="color:var(--muted)">Click any row to open & print that invoice.</small>
        </div>
      </div>
    </div>
    </div>

  </main>

  <script src="js/main.js"></script>
</body>
</html>
